<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
  <head>
    <title>AHPUT高校论坛首页</title>
    <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"/>
    <link type="text/css" rel="stylesheet" th:href="@{/css/base.css}"/>
    <link type="text/css" rel="stylesheet" th:href="@{/css/posts.css}"/>
    <link type="text/css" rel="stylesheet" th:href="@{/css/paging.css}"/>
    <link type="text/css" rel="stylesheet" th:href="@{/js/weditor/css/wangEditor.min.css}"/>
    <style>
	    body {
			padding: 0px;
			margin: 0px;
			background: #F0F0F0;
			font-family: "微软雅黑";
			font-size: 12px;
		}
		/*body部分开始*/
		#body #search {
			background:#E8EFF5;
			width:1000px;
			height:50px;
			position:relative;
		}
		#search #search_input{
			width:470px;
			height:28px;
			padding: 0 8px;
			border:2px solid #E9EAE9;
			position:absolute;
			top:8px;
			left:10px;
		}
		#search #search_icon {
			display:block;
			width:28px;
			height:28px;
			position:absolute;
			top:10px;
			left:508px;
		}
		#users {
			padding: 0px;
			margin-top: 15px;
			width: 720px;
		}
		#users .user {
			display: block;
			padding: 2px 2px 10px 2px;
			border-bottom: 1px solid #eaebec;
			background: #fff;
		}
		#users .user .user_title {
			margin: 8px 8px 8px 60px;
			font-weight: 700;
			font-size: 18px;
			position:relative;
		}
		#users .user .user_title .user_avatar {
			display: block;
			width: 40px;
			height: 40px;
			position: absolute;
			top: 4px;
    		left: -48px;
		}
		#users .user .user_nr {
			margin: 8px 8px 8px 60px;
			font-size: 14px;
			color: #666;
		}
		/*body部分结束*/
    </style>
  </head>
  <body>
  	<div id="all">
	 	<!-- header部分开始 -->
		<div id="header">
			<div id="logo">
				<a th:href="${#mvc.url('BC#adminPosts').build()}"><img th:src="@{/images/logo.png}"/></a>
			</div>
			<div id="navigation">
				<ul>
					<li id="user">
						<input id="user_id" type="hidden" th:attr="data-id = ${session.loginAdmin.id}"/>
						<a class="nickname" th:text="${session.loginAdmin.nickname}"></a>
						<ul id="user_list">
							<li>
								<a th:href="${#mvc.url('UC#show').arg(0, session.loginAdmin.id).build()}" target="_blank">个人中心</a></li>
							<li>
								<a th:href="${#mvc.url('UC#logout').arg(0, session.loginAdmin.id).build()}">退出</a></li>
						</ul>
					</li>
					<li><a class="table" th:href="${#mvc.url('UC#adminUsers').build()}">用户</a></li>
					<li><a class="table" th:href="${#mvc.url('BC#adminPosts').build()}">帖子</a></li>
					<li><a class="table" th:href="${#mvc.url('NC#notices').arg(3, session.loginAdmin.id).build()}">公告</a></li>
				</ul>
			</div>
		</div>
		<!-- header部分结束 -->
		
		<div id="search">
			<input type="text" id="search_input" placeholder="请输入搜索内容"/>
			<i id="search_icon" th:attr="style='background:url('+@{/images/search.png}+') no-repeat'"></i>
		</div>
			
		<!-- body部分开始 -->
		<div id="body">
			
			<ul id="users">
				<li class="user" th:each="user : ${userPage.content}" th:if="${user != null and user.isAdmin != 1}">
					<div class="user_title">
						<img class="user_avatar" th:src="'/cblog/images/avatars/'+${user.avatar}"></img>
						<a th:utext="${user.nickname}" th:href="${#mvc.url('UC#show').arg(3, user.id).build()}">昵称</a>&nbsp;
						<a class="delete" th:attr="data-id=${user.id}" th:text="删除该账号" onclick="deleteUser_index(this)">删除该账号</a>
					</div>
					<div class="user_nr">
						创建时间:<span th:text="${#dates.format(user.createTime,'yyyy-MM-dd HH:mm')}"></span>
					</div>
				</li>
			</ul>
				
			<!-- 分页 -->
			<div id="paging" th:if="${totalPages >= 2}">
				<a th:href="${#mvc.url('UC#adminUsers').arg(0, 0).arg(2, 0).build()}">首页</a>
				<a th:if="${curPage - 1 >= 0}" th:href="${#mvc.url('UC#adminUsers').arg(0, firstPage).arg(1, curPage).arg(2, curPage - 1).build()}">上一页</a>
				<a class="no_hover" th:if="${curPage - 1 lt 0}">上一页</a>
				<a th:if="${firstPage le totalPages - 1}" th:attr="class = ${curPage == firstPage ? 'clicked' : ''}"
					th:href="${#mvc.url('UC#adminUsers').arg(0, firstPage).arg(1, curPage).arg(2, firstPage).build()}" th:text="${firstPage + 1}">1</a>
				<a th:if="${firstPage + 1 le totalPages - 1}" th:attr="class = ${curPage == firstPage + 1 ? 'clicked' : ''}"
					th:href="${#mvc.url('UC#adminUsers').arg(0, firstPage).arg(1, curPage).arg(2, firstPage + 1).build()}" th:text="${firstPage + 2}">2</a>
				<a th:if="${firstPage + 2 le totalPages - 1}" th:attr="class = ${curPage == firstPage + 2 ? 'clicked' : ''}"
					th:href="${#mvc.url('UC#adminUsers').arg(0, firstPage).arg(1, curPage).arg(2, firstPage + 2).build()}" th:text="${firstPage + 3}">3</a>
				<a th:if="${firstPage + 3 le totalPages - 1}" th:attr="class = ${curPage == firstPage + 3  ? 'clicked' : ''}"
					th:href="${#mvc.url('UC#adminUsers').arg(0, firstPage).arg(1, curPage).arg(2, firstPage + 3).build()}" th:text="${firstPage + 4}">4</a>
				<a th:if="${firstPage + 4 le totalPages - 1}" th:attr="class = ${curPage == firstPage + 4  ? 'clicked' : ''}"
					th:href="${#mvc.url('UC#adminUsers').arg(0, firstPage).arg(1, curPage).arg(2, firstPage + 4).build()}" th:text="${firstPage + 5}">5</a>
				<a th:if="${curPage + 2 le totalPages}" th:href="${#mvc.url('UC#adminUsers').arg(0, firstPage).arg(1, curPage).arg(2, curPage + 1).build()}">下一页</a>
				<a class="no_hover" th:if="${curPage + 2 > totalPages}">下一页</a>
				<a th:href="${#mvc.url('UC#adminUsers').arg(0, totalPages - 6).arg(2, totalPages - 1).build()}">尾页</a>
				<a class="no_hover">共<span th:text="${totalPages}"></span>页</a>
			</div>
			
		</div>
		<!-- body部分结束-->
		
		<!-- footer部分开始 -->
		<div id="footer">
			<p>Copyright &copy; 2016 by wuchao</p>
		</div>
		<!-- footer部分结束 -->
  	</div>
	
		
	<script type="text/javascript" th:src="@{/js/jquery-1.11.1.min.js}"></script>
	<script type="text/javascript" th:src="@{/js/user.js}"></script>
 	<script type="text/javascript">
	/*<![CDATA[*/
		$("#user").mouseover(function(){
			$("#user_list").show();
		}).mouseleave(function(){
			$("#user_list").hide();
		});
		
   		
    	
	/*]]>*/
 	</script>
  </body>
</html>
